---
const { page } = Astro.props;
---
<div id="menu-overlay">
    <div class="ink-container">
        <div class="spot s1"></div>
        <div class="spot s2"></div>
        <div class="spot s3"></div>
    </div>
    <div id="menu-content">
        {page !== "home" && <a href="/" class="menu-link">HoME</a>}
        <a href={page === "home" ? "#beyond-section" : "/#beyond-section"} class="menu-link">SKILLS</a>
        <a href={page === "home" ? "#about-section" : "/#about-section"} class="menu-link">ABoUT</a>
        {page !== "works" && <a href="#works-section" class="menu-link">WoRKS</a>}
        <a href="#contact-section" class="menu-link">CoNTACT</a>
    </div>
</div>

<style>
 #menu-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    display: flex;
    align-items: center;
    justify-content: center;
    pointer-events: none;
    z-index: 2000;
}
 #menu-overlay.active {
    pointer-events: all;
}
 .ink-container {
    position: absolute;
    width: 100%;
    height: 100%;
    filter: url('#gooey-filter');
    display: flex;
    align-items: center;
    justify-content: center;
}
.spot {
    position: absolute;
    border-radius: 50%;
    background: var(--dark-text);
    transform: scale(0);
    transition: transform 1.2s cubic-bezier(0.6, 0, 0.4, 1), 
                top 0.5s, left 0.5s, right 0.5s, bottom 0.5s; /* Per transizioni fluide tra resize */
}
/* Default Mobile: Macchie grandi al centro/angoli sparsi */
.s1 { width: 85vmax; height: 85vmax; top: -10%; right: -10%; }
.s2 { width: 65vmax; height: 65vmax; left: -5%; top: -5%; }
.s3 { width: 75vmax; height: 75vmax; right: -5%; bottom: -5%; }

#menu-overlay.active .spot {
    transform: scale(1.6);
}

/* --- SPECIFICHE DESKTOP PER ESPANDERSI DA IN ALTO A SINISTRA MA SENZA RIEMPIRE TUTTO --- */
 @media (min-width: 1024px) {
   /* 1. Stato INIZIALE: Le macchie sono piccole e vicine all'angolo alto-destra */
    .s1 {
        left: auto;
        bottom: auto;
        top: -40px;
       /* Partono dall'alto */
        right: -40px;
       /* Partono da destra */
        transform: scale(0);
   }
    .s2 {
        left: auto;
        bottom: auto;
        top: -10px;
       /* Partono dall'alto */
        right: -10px;
       /* Partono da destra */
        transform: scale(0);
   }
    .s3 {
        left: auto;
        bottom: auto;
        top: 0px;
       /* Partono dall'alto */
        right: 5px;
       /* Partono da destra */
        transform: scale(0);
   }
   /* Dimensioni (rimangono simili a quelle che hai impostato) */
    .s1 {
        width: 250px;
        height: 300px;
   }
    .s2 {
        width: 350px;
        height: 280px;
   }
    .s3 {
        width: 350px;
        height: 300px;
   }
   /* 2. Stato ACTIVE: Crescono e si spostano verso la metà destra dello schermo */
    #menu-overlay.active .spot.s1 {
       /* Si sposta leggermente a sinistra e in basso rispetto all'origine */
        transform: scale(3.5) translate(-40px, -10px);
   }
    #menu-overlay.active .spot.s2 {
       /* Si sposta un po' di più verso il centro */
        transform: scale(2.5) translate(-65px, 40px);
        transition-delay: 0.1s;
   }
    #menu-overlay.active .spot.s3 {
       /* Rimane più vicina al bordo destro ma scende */
        transform: scale(2.2) translate(-80px, 150px);
        transition-delay: 0.08s;
   }
   /* 3. Posizionamento del contenuto Menu */
   /* Se vuoi che anche il testo segua il blob a destra */
    #menu-content {
        margin-left: auto;
        margin-right: 15%;
       /* Sposta i link verso destra */
   }
}

#menu-content {
    position: relative;
    z-index: 2001;
    text-align: center;
    opacity: 0;
    transform: translateY(30px);
    transition: 0.5s;
}
 #menu-overlay.active #menu-content {
    opacity: 1;
    transform: translateY(0);
    transition-delay: 0.6s;
}
 .menu-link {
    display: block;
    font-size: clamp(40px, 8vw, 90px);
    font-weight: 900;
    color: var(--text-light);
    text-decoration: none;
    margin: 15px 0;
    transition: color 0.3s;
}
 .menu-link:hover {
    color: var(--accent-coral);
    cursor:pointer !important;
}


</style>
<script>

</script>